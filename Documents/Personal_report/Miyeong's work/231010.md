## Subject : 게임서버 기초와 멀티스레드 Atomic, lock&deadlock
#### Date : 23. 10. 10  
  
  
### Problem  
* 멀티스레드 상황에서 데이터 공유시에 이상한 값이 나오기도 함  
  
### Solve  
* 1에 대한 해결 -> 공유 데이터를 수정하기 시작할 때 문제가 발생됨 -> 순서가 보장되어야 한다
  * std::atomic : 다중 스레드 환경에서 안전하게 공유 자원을 수정가능하게 함
  * mutex : 임계 영역에 진입하려는 스레드가 다른 스레드가 이미 접근 중인 경우 대기하도록 하고, 해당 임계 영역에 들어간 스레드가 나올 때까지 다른 스레드가 접근할 수 없도록 함 (lock)  
  
### Study  
* 서버: 다른 컴퓨터에서 연결이 가능하도록 상시 대기 중인 프로그램
* 게임 서버
  * 요청과 갱신 횟수가 많음
  * 실시간 상호작용 필요
  * 언제라도 클라에 접근 가능
  * 게임/장르에 따라 요구사항이 다름  
  
* Atomic
  * 원자적 연산 가능, 메모리 가시성, 변수 형식 지정, 원자적 연산 함수  
  
* Race Condition
  * 공유 자원에 대한 접근이 동기화 되지 않아 발생
  * 데이터 무결성 손실, 정확성 문제, 데드락(Deadlock)  
  
* Lock
  * 다중 스레드 환경에서 공유 자원에 대한 접근 제어와 동기화를 위한 메커니즘
  * 여러 스레드가 자원을 공유할 때 서로 충돌하지 않도록 조절 가능  
  
* Deadlock
  * 프로세스가 자원을 얻디 못해 다음을 처리하지 못한 상태로 교착상태.
  * 상호배제, 점유대기, 비선점, 순환대기 -> 하나라도 성립하지 않으면 교착상태X  
  
